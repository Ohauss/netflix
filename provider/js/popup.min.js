import{s as q,a as B,d as D,b as M,c as H,e as _,f as I}from"./common.min.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(n){if(n.ep)return;n.ep=!0;const c=t(n);fetch(n.href,c)}})();let k={getErrors(l){let e=0,t=l.querySelectorAll("[required]");return t.length&&t.forEach(s=>{(s.offsetParent!==null||s.tagName==="SELECT")&&!s.disabled&&(e+=this.validateInput(s))}),e},validateInput(l){let e=0;return l.type==="email"?(l.value=l.value.replace(" ",""),this.emailTest(l)?(this.addError(l),this.removeSuccess(l),e++):(this.removeError(l),this.addSuccess(l))):l.type==="checkbox"&&!l.checked?(this.addError(l),this.removeSuccess(l),e++):l.value.trim()?(this.removeError(l),this.addSuccess(l)):(this.addError(l),this.removeSuccess(l),e++),e},addError(l){l.classList.add("--form-error"),l.parentElement.classList.add("--form-error");let e=l.parentElement.querySelector("[data-fls-form-error]");e&&l.parentElement.removeChild(e),l.dataset.flsFormErrtext&&l.parentElement.insertAdjacentHTML("beforeend",`<div data-fls-form-error>${l.dataset.flsFormErrtext}</div>`)},removeError(l){l.classList.remove("--form-error"),l.parentElement.classList.remove("--form-error"),l.parentElement.querySelector("[data-fls-form-error]")&&l.parentElement.removeChild(l.parentElement.querySelector("[data-fls-form-error]"))},addSuccess(l){l.classList.add("--form-success"),l.parentElement.classList.add("--form-success")},removeSuccess(l){l.classList.remove("--form-success"),l.parentElement.classList.remove("--form-success")},removeFocus(l){l.classList.remove("--form-focus"),l.parentElement.classList.remove("--form-focus")},formClean(l){l.reset(),setTimeout(()=>{let e=l.querySelectorAll("input,textarea");for(let s=0;s<e.length;s++){const n=e[s];k.removeFocus(n),k.removeSuccess(n),k.removeError(n)}let t=l.querySelectorAll('input[type="checkbox"]');if(t.length&&t.forEach(s=>{s.checked=!1}),window.flsSelect){let s=l.querySelectorAll("select[data-fls-select]");s.length&&s.forEach(n=>{window.flsSelect.selectBuild(n)})}},0)},emailTest(l){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(l.value)}};class V{constructor(e,t=null){let s={init:!0,speed:150};if(this.config=Object.assign(s,e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"--select-disabled",classSelectTag:"--select-tag",classSelectOpen:"--select-open",classSelectActive:"--select-active",classSelectFocus:"--select-focus",classSelectMultiple:"--select-multiple",classSelectCheckBox:"--select-checkbox",classSelectOptionSelected:"--select-selected",classSelectPseudoLabel:"--select-pseudo-label"},this._this=this,this.config.init){const n=t?document.querySelectorAll(t):document.querySelectorAll("select[data-fls-select]");n.length&&this.selectsInit(n)}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach((t,s)=>{this.selectInit(t,s+1)}),document.addEventListener("click",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("keydown",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("focusin",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("focusout",(function(t){this.selectsActions(t)}).bind(this))}selectInit(e,t){if(t&&(e.dataset.flsSelectId=t),e.options.length){const s=this;let n=document.createElement("div");n.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(n,e),n.appendChild(e),e.hidden=!0,this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show&&this.getSelectElement(n,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)),n.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.flsSelectSpeed=e.dataset.flsSelectSpeed?e.dataset.flsSelectSpeed:this.config.speed,this.config.speed=+e.dataset.flsSelectSpeed,e.addEventListener("change",function(c){s.selectChange(c)})}}selectBuild(e){const t=e.parentElement;e.id&&(t.id=e.id,e.removeAttribute("id")),t.dataset.flsSelectId=e.dataset.flsSelectId,e.dataset.flsSelectModif&&t.classList.add(`select--${e.dataset.flsSelectModif}`),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-fls-select-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-fls-select-search")&&this.searchActions(t),e.hasAttribute("data-fls-select-open")&&this.selectAction(t),this.selectDisabled(t,e)}selectsActions(e){const t=e.target,s=e.type,n=t.closest(this.getSelectClass(this.selectClasses.classSelect)),c=t.closest(this.getSelectClass(this.selectClasses.classSelectTag));if(!n&&!c)return this.selects\u0421lose();const r=n||document.querySelector(`.${this.selectClasses.classSelect}[data-fls-select-id="${c.dataset.flsSelectId}"]`),i=this.getSelectElement(r).originalSelect;if(!i.disabled)if(s==="click"){const d=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),o=t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)),f=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));if(d){const u=document.querySelector(`.${this.selectClasses.classSelect}[data-fls-select-id="${d.dataset.flsSelectId}"] .select__option[data-fls-select-value="${d.dataset.flsSelectValue}"]`);this.optionAction(r,i,u)}else o?this.selectAction(r):f&&this.optionAction(r,i,f)}else s==="focusin"||s==="focusout"?n&&r.classList.toggle(this.selectClasses.classSelectFocus,s==="focusin"):s==="keydown"&&e.code==="Escape"&&this.selects\u0421lose()}selects\u0421lose(e){const s=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);s.length&&s.forEach(n=>{this.select\u0421lose(n)})}select\u0421lose(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),q(s,t.dataset.flsSelectSpeed),setTimeout(()=>{e.style.zIndex=""},t.dataset.flsSelectSpeed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.querySelectorAll(`.${this.selectClasses.classSelectOption}`);const n=t.dataset.flsSelectZIndex?t.dataset.flsSelectZIndex:3;if(this.setOptionsPosition(e),t.closest("[data-fls-select-one]")){const c=t.closest("[data-fls-select-one]");this.selects\u0421lose(c)}setTimeout(()=>{s.classList.contains("--slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),B(s,t.dataset.flsSelectSpeed),e.classList.contains(this.selectClasses.classSelectOpen)?e.style.zIndex=n:setTimeout(()=>{e.style.zIndex=""},t.dataset.flsSelectSpeed))},0)}setSelectTitleValue(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,n=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;n&&n.remove(),s.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t)),t.hasAttribute("data-fls-select-search")&&this.searchActions(e)}getSelectTitleValue(e,t){let s=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-fls-select-tags")&&(s=this.getSelectedOptionsData(t).elements.map(r=>`<span role="button" data-fls-select-id="${e.dataset.flsSelectId}" data-fls-select-value="${r.value}" class="--select-tag">${this.getSelectElementContent(r)}</span>`).join(""),t.dataset.flsSelectTags&&document.querySelector(t.dataset.flsSelectTags)&&(document.querySelector(t.dataset.flsSelectTags).innerHTML=s,t.hasAttribute("data-fls-select-search")&&(s=!1))),s=s.length?s:t.dataset.flsSelectPlaceholder||"",t.hasAttribute("data-fls-select-tags")||(s=s?s.map(r=>r.replace(/"/g,"&quot;")):"");let n="",c="";if(t.hasAttribute("data-fls-select-pseudo-label")&&(n=t.dataset.flsSelectPseudoLabel?` data-fls-select-pseudo-label="${t.dataset.flsSelectPseudoLabel}"`:' data-fls-select-pseudo-label="\u0417\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0430\u0442\u0440\u0438\u0431\u0443\u0442"',c=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive),t.hasAttribute("data-fls-select-search"))return`<div class="${this.selectClasses.classSelectTitle}"><span${n} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-fls-select-placeholder="${s}" class="${this.selectClasses.classSelectInput}"></span></div>`;{const r=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.flsSelectClass?` ${this.getSelectedOptionsData(t).elements[0].dataset.flsSelectClass}`:"";return`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${n} class="${this.selectClasses.classSelectValue}${c}"><span class="${this.selectClasses.classSelectContent}${r}">${s}</span></span></button>`}}getSelectElementContent(e){const t=e.dataset.flsSelectAsset?`${e.dataset.flsSelectAsset}`:"",s=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let n="";return n+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",n+=t?`<span class="${this.selectClasses.classSelectData}">`:"",n+=t?s:"",n+=t?"</span>":"",n+=t?`<span class="${this.selectClasses.classSelectText}">`:"",n+=e.textContent,n+=t?"</span>":"",n+=t?"</span>":"",n}getSelectPlaceholder(e){const t=Array.from(e.options).find(s=>!s.value);if(t)return{value:t.textContent,show:t.hasAttribute("data-fls-select-show"),label:{show:t.hasAttribute("data-fls-select-label"),text:t.dataset.flsSelectLabel}}}getSelectedOptionsData(e,t){let s=[];return e.multiple?s=Array.from(e.options).filter(n=>n.value).filter(n=>n.selected):s.push(e.options[e.selectedIndex]),{elements:s.map(n=>n),values:s.filter(n=>n.value).map(n=>n.value),html:s.map(n=>this.getSelectElementContent(n))}}getOptions(e){const t=(e.hasAttribute("data-fls-select-scroll"),"");+e.dataset.flsSelectScroll&&+e.dataset.flsSelectScroll;let s=Array.from(e.options);if(s.length>0){let n="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(s=s.filter(c=>c.value)),n+=`<div ${t}  class="${this.selectClasses.classSelectOptionsScroll}">`,s.forEach(c=>{n+=this.getOption(c,e)}),n+="</div>",n}}getOption(e,t){const s=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",n=e.selected&&!t.hasAttribute("data-fls-select-show-selected")&&!t.multiple?"hidden":"",c=e.dataset.flsSelectClass?` ${e.dataset.flsSelectClass}`:"",r=e.dataset.flsSelectHref?e.dataset.flsSelectHref:!1,i=e.hasAttribute("data-fls-select-href-blank")?'target="_blank"':"";let d="";return d+=r?`<a ${i} ${n} href="${r}" data-fls-select-value="${e.value}" class="${this.selectClasses.classSelectOption}${c}${s}">`:`<button ${n} class="${this.selectClasses.classSelectOption}${c}${s}" data-fls-select-value="${e.value}" type="button">`,d+=this.getSelectElementContent(e),d+=r?"</a>":"</button>",d}setOptions(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.innerHTML=this.getOptions(t)}setOptionsPosition(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,n=this.getSelectElement(e,this.selectClasses.classSelectOptionsScroll).selectElement,c=+t.dataset.flsSelectScroll?`${+t.dataset.flsSelectScroll}px`:"",r=+t.dataset.flsSelectOptionsMargin?+t.dataset.flsSelectOptionsMargin:10;if(e.classList.contains(this.selectClasses.classSelectOpen))setTimeout(()=>{e.classList.remove("select--show-top"),n.style.maxHeight=c},+t.dataset.flsSelectSpeed);else{s.hidden=!1;const i=n.offsetHeight?n.offsetHeight:parseInt(window.getComputedStyle(n).getPropertyValue("max-height")),d=s.offsetHeight>i?s.offsetHeight:i+s.offsetHeight,o=d-i;s.hidden=!0;const f=e.offsetHeight,u=e.getBoundingClientRect().top,p=u+d+f+o,v=window.innerHeight-(p+r);if(v<0){const b=d+v;b<100?(e.classList.add("select--show-top"),n.style.maxHeight=u<d?`${u-(d-u)}px`:c):(e.classList.remove("select--show-top"),n.style.maxHeight=`${b}px`)}}}optionAction(e,t,s){if(!e.querySelector(this.getSelectClass(this.selectClasses.classSelectOptions)).classList.contains("--slide")){if(t.multiple){s.classList.toggle(this.selectClasses.classSelectOptionSelected);const c=this.getSelectedOptionsData(t).elements;for(const i of c)i.removeAttribute("selected");const r=e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected));for(const i of r){const d=i.dataset.flsSelectValue,o=t.querySelector(`option[value="${d}"]`);o&&o.setAttribute("selected","selected")}}else t.hasAttribute("data-fls-select-show-selected")||setTimeout(()=>{const c=e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`);c&&(c.hidden=!1),s.hidden=!0},this.config.speed),t.value=s.dataset.flsSelectValue||s.textContent,this.selectAction(e);this.setSelectTitleValue(e,t),this.setSelectChange(t)}}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-fls-select-validate")&&k.validateInput(e),e.hasAttribute("data-fls-select-submit")&&e.value){let s=document.createElement("button");s.type="submit",e.closest("form").append(s),s.click(),s.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}searchActions(e){const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;t.addEventListener("input",()=>{const n=t.value.toLowerCase();s.querySelectorAll(`.${this.selectClasses.classSelectOption}`).forEach(r=>{const i=r.textContent.toLowerCase();r.hidden=!i.includes(n)}),s.hidden&&this.selectAction(e)})}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}}document.querySelector("select[data-fls-select]")&&window.addEventListener("load",()=>window.flsSelect=new V({}));function N(){const l=document.querySelectorAll("[data-fls-spollers]");if(l.length>0){let e=function(i,d=!1){i.forEach(o=>{o=d?o.item:o,d.matches||!d?(o.classList.add("--spoller-init"),t(o)):(o.classList.remove("--spoller-init"),t(o,!1))})},t=function(i,d=!0){let o=i.querySelectorAll("details");o.length&&o.forEach(f=>{let u=f.querySelector("summary");d?(u.removeAttribute("tabindex"),f.hasAttribute("data-fls-spollers-open")?(u.classList.add("--spoller-active"),f.open=!0):(f.open=!1,u.nextElementSibling.hidden=!0)):(u.setAttribute("tabindex","-1"),u.classList.remove("--spoller-active"),f.open=!0,u.nextElementSibling.hidden=!1)})},s=function(i){const d=i.target;if(d.closest("summary")&&d.closest("[data-fls-spollers]")&&(i.preventDefault(),d.closest("[data-fls-spollers]").classList.contains("--spoller-init"))){const o=d.closest("summary"),f=o.closest("details"),u=o.closest("[data-fls-spollers]"),p=u.hasAttribute("data-fls-spollers-one"),v=f.hasAttribute("data-fls-spollers-scroll"),b=u.dataset.flsSpollersSpeed?parseInt(u.dataset.flsSpollersSpeed):500;if(!u.querySelectorAll(".--slide").length&&(p&&!f.open&&n(u),f.open?setTimeout(()=>{f.open=!1},b):f.open=!0,o.classList.toggle("--spoller-active"),B(o.nextElementSibling,b),v&&o.classList.contains("--spoller-active"))){const a=f.dataset.flsSpollersScroll,m=+a?+a:0,E=f.hasAttribute("data-fls-spollers-scroll-noheader")?document.querySelector(".header").offsetHeight:0;window.scrollTo({top:f.offsetTop-(m+E),behavior:"smooth"})}}if(!d.closest("[data-fls-spollers]")){const o=document.querySelectorAll("[data-fls-spollers-close]");o.length&&o.forEach(f=>{const u=f.closest("[data-fls-spollers]"),p=f.parentNode;if(u.classList.contains("--spoller-init")){const v=u.dataset.flsSpollersSpeed?parseInt(u.dataset.flsSpollersSpeed):500;f.classList.remove("--spoller-active"),q(f.nextElementSibling,v),setTimeout(()=>{p.open=!1},v)}})}},n=function(i){const d=i.querySelector("details[open]");if(d&&!i.querySelectorAll(".--slide").length){const o=d.querySelector("summary"),f=i.dataset.flsSpollersSpeed?parseInt(i.dataset.flsSpollersSpeed):500;o.classList.remove("--spoller-active"),q(o.nextElementSibling,f),setTimeout(()=>{d.open=!1},f)}};document.addEventListener("click",s);const c=Array.from(l).filter(function(i,d,o){return!i.dataset.flsSpollers.split(",")[0]});c.length&&e(c);let r=D(l,"flsSpollers");r&&r.length&&r.forEach(i=>{i.matchMedia.addEventListener("change",function(){e(i.itemsArray,i.matchMedia)}),e(i.itemsArray,i.matchMedia)})}}window.addEventListener("load",N);class F{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-fls-popup-link",attributeCloseButton:"data-fls-popup-close",fixElementSelector:"[data-fls-lp]",attributeMain:"data-fls-popup",youtubeAttribute:"data-fls-popup-youtube",youtubePlaceAttribute:"data-fls-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"data-fls-popup-body",popupActive:"data-fls-popup-active",bodyActive:"data-fls-popup-open"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.buildPopup(),this.eventsPopup()}buildPopup(){}eventsPopup(){document.addEventListener("click",(function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t){if(e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,this._dataValue!=="error"){this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open();return}return}if(e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`[${this.options.classes.popupContent}]`)&&this.isOpen){e.preventDefault(),this.close();return}}).bind(this)),document.addEventListener("keydown",(function(e){if(this.options.closeEsc&&e.which==27&&e.code==="Escape"&&this.isOpen){e.preventDefault(),this.close();return}if(this.options.focusCatch&&e.which==9&&this.isOpen){this._focusCatch(e);return}}).bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",(function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}).bind(this)),window.location.hash&&this._openToHash())}open(e){if(_&&(this.bodyLock=!!(document.documentElement.hasAttribute("data-fls-scrolllock")&&!this.isOpen),e&&typeof e=="string"&&e.trim()!==""&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(`[${this.options.attributeMain}=${this.targetOpen.selector}]`),this.targetOpen.element)){const t=this.youTubeCode||this.targetOpen.element.getAttribute(`${this.options.youtubeAttribute}`);if(t){const s=`https://www.youtube.com/embed/${t}?rel=0&showinfo=0&autoplay=1`,n=document.createElement("iframe"),c=this.options.setAutoplayYoutube?"autoplay;":"";n.setAttribute("allowfullscreen",""),n.setAttribute("allow",`${c}; encrypted-media`),n.setAttribute("src",s),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)||this.targetOpen.element.querySelector("[data-fls-popup-content]").setAttribute(`${this.options.youtubePlaceAttribute}`,""),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(n)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.setAttribute(this.options.classes.popupActive,""),document.documentElement.setAttribute(this.options.classes.bodyActive,""),this._reopen?this._reopen=!1:this.bodyLock||M(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}}))}}close(e){e&&typeof e=="string"&&e.trim()!==""&&(this.previousOpen.selector=e),!(!this.isOpen||!_)&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&setTimeout(()=>{this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""},500),this.previousOpen.element.removeAttribute(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.removeAttribute(this.options.classes.bodyActive),this.bodyLock||H(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50))}_getHash(){this.options.hashSettings.location&&(this.hash=`#${this.targetOpen.selector}`)}_openToHash(){let e=window.location.hash.replace("#","");const t=document.querySelector(`[${this.options.attributeOpenButton}="${e}"]`);t&&(this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null),e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),s=Array.prototype.slice.call(t),n=s.indexOf(document.activeElement);e.shiftKey&&n===0&&(s[s.length-1].focus(),e.preventDefault()),!e.shiftKey&&n===s.length-1&&(s[0].focus(),e.preventDefault())}_focusTrap(){if(!this.previousOpen.element)return;const e=this.previousOpen.element.querySelectorAll(this._focusEl);if(!this.isOpen){this.lastFocusEl&&typeof this.lastFocusEl.focus=="function"&&this.lastFocusEl.focus();return}e.length&&e[0].focus()}}document.querySelector("[data-fls-popup]")&&window.addEventListener("load",()=>window.flsPopup=new F({}));function j(){const l=window.location.pathname.split("/").pop()||"index.html";document.querySelectorAll(".menu__list .menu__link--hover").forEach(t=>{t.classList.remove("menu__link--active")}),document.querySelectorAll(".menu__list .menu__link--hover").forEach(t=>{t.getAttribute("href")===l&&t.classList.add("menu__link--active")});const e=document.querySelector(".menu__link-home");e&&(l==="index.html"||l==="")&&e.classList.add("menu__link--active"),document.querySelectorAll(".menu__dropdown-link").forEach(t=>{t.getAttribute("href")===l&&t.classList.add("menu__link--active")}),document.addEventListener("click",function(t){_&&t.target.closest("[data-fls-menu]")&&(I(),document.documentElement.toggleAttribute("data-fls-menu-open"))})}document.querySelector("[data-fls-menu]")&&window.addEventListener("load",j),document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector("[data-header-login]"),t=document.querySelector("[data-header-signup]")?.closest(".signup-wrapper"),s=document.querySelector("[data-header-profile-wrapper]"),n=document.querySelectorAll("[data-profile-myprofile], [data-profile-logout]");function c(){localStorage.setItem("loggedIn","true"),l&&(l.style.display="none"),t&&t.classList.add("is-hidden"),s?.removeAttribute("hidden"),n.forEach(o=>{(o.closest("li")||o).classList.remove("is-logged-hidden")})}function r(){localStorage.removeItem("loggedIn"),l&&(l.style.display="block"),t&&t.classList.remove("is-hidden"),s?.setAttribute("hidden",""),n.forEach(o=>{(o.closest("li")||o).classList.add("is-logged-hidden")})}localStorage.getItem("loggedIn")==="true"?c():r(),document.querySelectorAll("[data-profile-logout]").forEach(o=>{o.addEventListener("click",()=>{window.flsPopup?.open?.("logout")})}),document.querySelector(".button-logout")?.addEventListener("click",()=>{r(),window.flsPopup?.close?.("logout"),window.location.href="/"})});class Y{constructor(){this.type="max",this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-fls-dynamic]")],this.nodes.forEach(e=>{const s=e.dataset.flsDynamic.trim().split(","),n={};n.element=e,n.parent=e.parentNode,n.destinationParent=s[3]&&e.closest(s[3].trim())||document,s[3]&&s[3].trim();const c=s[0]?s[0].trim():null;if(c){const r=n.destinationParent.querySelector(c);r&&(n.destination=r)}n.breakpoint=s[1]?s[1].trim():"767.98",n.place=s[2]?s[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.objects.push(n)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:e})=>`(${this.type}-width: ${e/16}em),${e}`).filter((e,t,s)=>s.indexOf(e)===t),this.mediaQueries.forEach(e=>{const t=e.split(","),s=window.matchMedia(t[0]),n=t[1],c=this.objects.filter(({breakpoint:r})=>r===n);s.addEventListener("change",()=>{this.mediaHandler(s,c)}),this.mediaHandler(s,c)})}mediaHandler(e,t){e.matches?t.forEach(s=>{s.destination&&this.moveTo(s.place,s.element,s.destination)}):t.forEach(({parent:s,element:n,index:c})=>{n.classList.contains(this.daClassname)&&this.moveBack(s,n,c)})}moveTo(e,t,s){t.classList.add(this.daClassname);const n=e==="last"||e==="first"?e:parseInt(e,10);n==="last"||n>=s.children.length?s.append(t):n==="first"?s.prepend(t):s.children[n].before(t)}moveBack(e,t,s){t.classList.remove(this.daClassname),e.children[s]!==void 0?e.children[s].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){if(this.type==="min")e.sort((t,s)=>t.breakpoint===s.breakpoint?t.place===s.place?0:t.place==="first"||s.place==="last"?-1:t.place==="last"||s.place==="first"?1:0:t.breakpoint-s.breakpoint);else{e.sort((t,s)=>t.breakpoint===s.breakpoint?t.place===s.place?0:t.place==="first"||s.place==="last"?1:t.place==="last"||s.place==="first"?-1:0:s.breakpoint-t.breakpoint);return}}}document.querySelector("[data-fls-dynamic]")&&window.addEventListener("load",()=>window.flsDynamic=new Y),document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector(".btn-success-continue");l&&(l.addEventListener("click",()=>{localStorage.setItem("loggedIn","true"),window.flsPopup?.close&&window.flsPopup.close(),setTimeout(()=>{window.location.href="index.html"},300)}),console.log("\u2705 Successful module loaded"))}),document.addEventListener("DOMContentLoaded",()=>{const l=setInterval(()=>{window.flsPopup&&(clearInterval(l),z())},100)});function z(){const l=document.getElementById("pc-card-number"),e=document.getElementById("pc-exp"),t=document.getElementById("pc-cvc"),s=document.getElementById("pc-pay-btn");if(!l||!e||!t||!s){console.warn("\u041E\u0434\u0438\u043D \u0430\u0431\u043E \u0431\u0456\u043B\u044C\u0448\u0435 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432 \u043F\u043B\u0430\u0442\u0435\u0436\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E");return}l.addEventListener("input",()=>{let h=l.value.replace(/\D/g,"").substring(0,16);l.value=h.replace(/(\d{4})(?=\d)/g,"$1 ")}),e.addEventListener("input",()=>{let h=e.value.replace(/\D/g,"").substring(0,4);h.length>=3&&(h=h.replace(/(\d{2})(\d{1,2})/,"$1/$2")),e.value=h}),t.addEventListener("input",()=>{t.value=t.value.replace(/\D/g,"").substring(0,4)});function n(h,g=""){h.classList.add("input-error"),h.classList.remove("input-success");const L=h.nextElementSibling;if(L&&L.classList.contains("input-error-message")&&L.remove(),g){const S=document.createElement("div");S.className="input-error-message",S.textContent=g,S.style.color="#dc3545",S.style.fontSize="12px",S.style.marginTop="4px",h.insertAdjacentElement("afterend",S)}}function c(h){h.classList.remove("input-error"),h.classList.add("input-success");const g=h.nextElementSibling;g&&g.classList.contains("input-error-message")&&g.remove()}function r(){const h=l.value.replace(/\s/g,"");return h?h.length!==16?(n(l,"Card number must be 16 digits"),!1):/^\d{16}$/.test(h)?(c(l),!0):(n(l,"Only numbers allowed"),!1):(n(l,"Enter card number"),!1)}function i(){const h=e.value.trim();if(!h||!h.includes("/"))return n(e,"Enter expiry date MM/YY"),!1;const[g,L]=h.split("/"),S=parseInt(g,10),T=parseInt(L,10);if(!g||!L)return n(e,"Enter expiry date MM/YY"),!1;if(S<1||S>12)return n(e,"Month must be 01-12"),!1;const O=new Date,P=O.getFullYear()%100,$=O.getMonth()+1;return T===P&&S<$||T<P?(n(e,"Card has expired"),!1):(c(e),!0)}function d(){const h=t.value.trim();return h?h.length<3||h.length>4?(n(t,"CVC must be 3-4 digits"),!1):/^\d+$/.test(h)?(c(t),!0):(n(t,"Only numbers allowed"),!1):(n(t,"Enter CVC"),!1)}function o(){const h=r(),g=i(),L=d();return h&&g&&L}l.addEventListener("blur",r),e.addEventListener("blur",i),t.addEventListener("blur",d),l.addEventListener("focus",()=>{l.classList.remove("input-error")}),e.addEventListener("focus",()=>{e.classList.remove("input-error")}),t.addEventListener("focus",()=>{t.classList.remove("input-error")}),s.addEventListener("click",h=>{h.preventDefault(),o()&&(document.activeElement?.blur(),window.flsPopup.open("payment-processing"),setTimeout(()=>{document.activeElement?.blur(),window.flsPopup.open("payment-success"),l.value="",e.value="",t.value="",l.classList.remove("input-error","input-success"),e.classList.remove("input-error","input-success"),t.classList.remove("input-error","input-success"),document.querySelectorAll(".input-error-message").forEach(g=>g.remove())},3e3))}),document.querySelectorAll("[data-action]").forEach(h=>{h.addEventListener("click",()=>{document.activeElement?.blur(),window.flsPopup.open("payment-processing"),setTimeout(()=>{document.activeElement?.blur(),window.flsPopup.open("payment-success")},3e3)})});const f={1:{label:"Bitcoin",symbol:"BTC",amount:"0.00158039",addresses:{bitcoin:"3PGgmpAxfzDSyPAGPqdL2oe5yS78UytENU"}},2:{label:"Ethereum",symbol:"ETH",amount:"0.05234567",addresses:{ethereum:"0x742d35Cc6634C0532925a3b844Bc9e7595f42CD5"}},3:{label:"Litecoin",symbol:"LTC",amount:"0.123456",addresses:{litecoin:"LhQcyqfQzN5ZPZSg6BEKqqKN5S9VzC9PRT"}},4:{label:"Ripple (XRP)",symbol:"XRP",amount:"123.456789",addresses:{ripple:"rN7n7otQDd6FczFgLdhmKJW5bZHQhqTNkJ"}}},u=document.querySelector('[data-fls-popup="payment-select"] .payment--crypto select'),p=document.querySelector('[data-fls-popup="payment-crypto"] select'),v=document.querySelector('[data-fls-popup="payment-crypto"] .payment__actions .button');v&&v.addEventListener("click",h=>{h.preventDefault();const g=u?.value||"1",L=p?.value||"bitcoin",S=f[g]||f[1],T=S.addresses[L]||Object.values(S.addresses)[0],O=document.getElementById("crypto-amount"),P=document.getElementById("crypto-blockchain"),$=document.getElementById("crypto-address");O&&(O.textContent=`${S.amount} ${S.symbol}`),P&&(P.textContent=p?.options[p.selectedIndex].text||"Bitcoin (BTC) Blockchain"),$&&($.textContent=T),document.activeElement?.blur(),window.flsPopup.open("payment-processing"),setTimeout(()=>{document.activeElement?.blur(),window.flsPopup.open("payment-success")},3e3)});const b=document.getElementById("name-input"),a=document.getElementById("email-input"),m=document.getElementById("phone-input"),E=document.querySelector('[data-fls-popup="application"] .button-subscription');function y(h,g){h.classList.add("input-error");const L=h.nextElementSibling;if(L&&L.classList.contains("input-error-message")&&L.remove(),g){const S=document.createElement("div");S.className="input-error-message",S.textContent=g,S.style.color="#dc3545",S.style.fontSize="12px",S.style.marginTop="4px",h.insertAdjacentElement("afterend",S)}}function C(h){h.classList.remove("input-error");const g=h.nextElementSibling;g&&g.classList.contains("input-error-message")&&g.remove()}function w(){const h=b.value.trim();return h?h.length<2?(y(b,"Name must be at least 2 characters"),!1):(C(b),!0):(y(b,"Enter your name"),!1)}function x(){const h=a.value.trim(),g=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return h?g.test(h)?(C(a),!0):(y(a,"Enter a valid email"),!1):(y(a,"Enter your email"),!1)}function A(){const h=m.value.trim();return h?h.length<10?(y(m,"Phone must be at least 10 characters"),!1):(C(m),!0):(y(m,"Enter your phone"),!1)}b&&(b.addEventListener("blur",w),b.addEventListener("focus",()=>C(b))),a&&(a.addEventListener("blur",x),a.addEventListener("focus",()=>C(a))),m&&(m.addEventListener("blur",A),m.addEventListener("focus",()=>C(m))),E&&E.addEventListener("click",h=>{h.preventDefault();const g=w(),L=x(),S=A()})}document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector('[data-fls-popup="signup"]');if(!l)return;const e=l.querySelector("[data-signup-form]"),t=e.querySelector("#signup-username"),s=e.querySelector("#signup-email"),n=e.querySelector("#signup-password"),c=e.querySelector("#cbx"),r=e.querySelector("[data-signup-submit]");function i(p,v=p.validationMessage){if(p.nextElementSibling?.classList.contains("form-error-text"))p.nextElementSibling.textContent=v;else{const b=document.createElement("div");b.className="form-error-text",b.textContent=v,p.insertAdjacentElement("afterend",b)}p.classList.add("--form-error")}function d(p){p.nextElementSibling?.classList.contains("form-error-text")&&p.nextElementSibling.remove(),p.classList.remove("--form-error")}function o(p){const v=/[A-Z]/.test(p),b=/[a-z]/.test(p),a=/\d/.test(p);return p.length>=8&&v&&b&&a}function f(p){if(p===t){const v=p.value.trim();return v.length<3||v.length>20?(i(p,"Username must be 3-20 characters"),!1):(d(p),!0)}if(p===s)return p.checkValidity()?(d(p),!0):(i(p,"Invalid email"),!1);if(p===n){const v=p.value;return o(v)?(d(p),!0):(i(p,"Min 8 chars with uppercase, lowercase and a number"),!1)}return!0}function u(){const p=f(t),v=f(s),b=f(n),a=c.checked;if(a){const m=e.querySelector(".check__text");m?.nextElementSibling?.classList?.contains("form-error-text-checkbox")&&m.nextElementSibling.remove()}else{const m=e.querySelector(".check__text");if(m&&!m.nextElementSibling?.classList?.contains("form-error-text-checkbox")){const E=document.createElement("div");E.className="form-error-text-checkbox",E.textContent="You must accept terms",m.insertAdjacentElement("afterend",E)}}r.disabled=!(p&&v&&b&&a)}[t,s,n].forEach(p=>{p.addEventListener("input",()=>{f(p),u()}),p.addEventListener("blur",()=>{f(p),u()}),p.addEventListener("change",u)}),c.addEventListener("change",u),u(),r.addEventListener("click",p=>{p.preventDefault(),!r.disabled&&window.flsPopup?.open?.("email-verification")})}),document.addEventListener("DOMContentLoaded",()=>{const l=setInterval(()=>{window.flsPopup&&(clearInterval(l),U())},100)});function U(){const l=document.getElementById("pc-card-number"),e=document.getElementById("pc-exp"),t=document.getElementById("pc-cvc"),s=document.getElementById("pc-card-pay-btn");if(!l||!e||!t||!s){console.warn("\u041E\u0434\u0438\u043D \u0430\u0431\u043E \u0431\u0456\u043B\u044C\u0448\u0435 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432 \u043F\u043B\u0430\u0442\u0435\u0436\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E");return}l.addEventListener("input",()=>{let a=l.value.replace(/\D/g,"").substring(0,16);l.value=a.replace(/(\d{4})(?=\d)/g,"$1 ")}),e.addEventListener("input",()=>{let a=e.value.replace(/\D/g,"").substring(0,4);a.length>=3&&(a=a.replace(/(\d{2})(\d{1,2})/,"$1/$2")),e.value=a}),t.addEventListener("input",()=>{t.value=t.value.replace(/\D/g,"").substring(0,4)});function n(a,m=""){a.classList.add("input-error"),a.classList.remove("input-success");const E=a.nextElementSibling;if(E&&E.classList.contains("input-error-message")&&E.remove(),m){const y=document.createElement("div");y.className="input-error-message",y.textContent=m,y.style.color="#dc3545",y.style.fontSize="12px",y.style.marginTop="4px",a.insertAdjacentElement("afterend",y)}}function c(a){a.classList.remove("input-error"),a.classList.add("input-success");const m=a.nextElementSibling;m&&m.classList.contains("input-error-message")&&m.remove()}function r(){const a=l.value.replace(/\s/g,"");return a?a.length!==16?(n(l,"Card number must be 16 digits"),!1):/^\d{16}$/.test(a)?(c(l),!0):(n(l,"Only numbers allowed"),!1):(n(l,"Enter card number"),!1)}function i(){const a=e.value.trim();if(!a||!a.includes("/"))return n(e,"Enter expiry date MM/YY"),!1;const[m,E]=a.split("/"),y=parseInt(m,10),C=parseInt(E,10);if(!m||!E)return n(e,"Enter expiry date MM/YY"),!1;if(y<1||y>12)return n(e,"Month must be 01-12"),!1;const w=new Date,x=w.getFullYear()%100,A=w.getMonth()+1;return C===x&&y<A||C<x?(n(e,"Card has expired"),!1):(c(e),!0)}function d(){const a=t.value.trim();return a?a.length<3||a.length>4?(n(t,"CVC must be 3-4 digits"),!1):/^\d+$/.test(a)?(c(t),!0):(n(t,"Only numbers allowed"),!1):(n(t,"Enter CVC"),!1)}function o(){const a=r(),m=i(),E=d();return a&&m&&E}l.addEventListener("blur",r),e.addEventListener("blur",i),t.addEventListener("blur",d),l.addEventListener("focus",()=>{l.classList.remove("input-error")}),e.addEventListener("focus",()=>{e.classList.remove("input-error")}),t.addEventListener("focus",()=>{t.classList.remove("input-error")}),s.addEventListener("click",a=>{a.preventDefault(),o()&&(window.flsPopup.open("payment-processing"),setTimeout(()=>{window.flsPopup.open("payment-success"),l.value="",e.value="",t.value="",l.classList.remove("input-error","input-success"),e.classList.remove("input-error","input-success"),t.classList.remove("input-error","input-success"),document.querySelectorAll(".input-error-message").forEach(m=>m.remove())},3e3))}),document.querySelectorAll("[data-action]").forEach(a=>{a.addEventListener("click",()=>{window.flsPopup.open("payment-processing"),setTimeout(()=>{window.flsPopup.open("payment-success")},3e3)})});const f={1:{label:"Bitcoin",symbol:"BTC",amount:"0.00158039",addresses:{bitcoin:"3PGgmpAxfzDSyPAGPqdL2oe5yS78UytENU"}},2:{label:"Ethereum",symbol:"ETH",amount:"0.05234567",addresses:{ethereum:"0x742d35Cc6634C0532925a3b844Bc9e7595f42CD5"}},3:{label:"Litecoin",symbol:"LTC",amount:"0.123456",addresses:{litecoin:"LhQcyqfQzN5ZPZSg6BEKqqKN5S9VzC9PRT"}},4:{label:"Ripple (XRP)",symbol:"XRP",amount:"123.456789",addresses:{ripple:"rN7n7otQDd6FczFgLdhmKJW5bZHQhqTNkJ"}}},u=document.querySelector('[data-fls-popup="payment-select"] .payment--crypto select'),p=document.querySelector('[data-fls-popup="payment-crypto"] select'),v=document.querySelector('[data-fls-popup="crypto-address"] #pc-payment-btn');v&&v.addEventListener("click",a=>{a.preventDefault();const m=u?.value||"1",E=p?.value||"bitcoin",y=f[m]||f[1],C=y.addresses[E]||Object.values(y.addresses)[0],w=document.getElementById("crypto-amount"),x=document.getElementById("crypto-blockchain"),A=document.getElementById("crypto-address");w&&(w.textContent=`${y.amount} ${y.symbol}`),x&&(x.textContent=p?.options[p.selectedIndex].text||"Bitcoin (BTC) Blockchain"),A&&(A.textContent=C),window.flsPopup.open("payment-processing"),setTimeout(()=>{window.flsPopup.open("payment-success")},2e3)});const b=document.getElementById("pc-success-continue");b&&b.addEventListener("click",()=>{window.flsPopup.close()})}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-fls-passwordeye]").forEach(e=>{const s=e.closest(".password-wrap")?.querySelector("input[type='password'], input[type='text']");s&&e.addEventListener("click",n=>{n.preventDefault();const c=s.type==="password";s.type=c?"text":"password",e.classList.toggle("active",c),e.setAttribute("aria-pressed",c)})})}),document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector("[data-fls-logout]");if(!l)return;const e=l.querySelector(".button-cancel"),t=l.querySelector(".button-logout");e?.addEventListener("click",()=>{PopupManager.close("logout")}),t?.addEventListener("click",()=>{localStorage.removeItem("loggedIn"),PopupManager.closeAll(),setTimeout(()=>{window.location.href="index.html"},300)})}),document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector('[data-fls-popup="login"]');if(!l)return;const e=document.querySelectorAll("[data-signin]"),t=document.querySelector("[data-header-profile]"),s=document.querySelector("[data-menu-profile]"),n=document.querySelector("[data-profile-dropdown]"),c=l.querySelector("[data-login-form]"),r=c?.querySelector("#login-email"),i=c?.querySelector("#login-password"),d=c?.querySelector("[data-login-submit]"),o=l.querySelectorAll(".social-login-btn");function f(a,m){if(a.nextElementSibling?.classList.contains("form-error-text"))a.nextElementSibling.textContent=m;else{const E=document.createElement("div");E.className="form-error-text",E.textContent=m,a.insertAdjacentElement("afterend",E)}a.classList.add("--form-error")}function u(a){a.nextElementSibling?.classList.contains("form-error-text")&&a.nextElementSibling.remove(),a.classList.remove("--form-error")}function p(){if(!c||!d)return;let a=!0;r.checkValidity()?u(r):(f(r,"Invalid email"),a=!1),i.value.trim().length<8?(f(i,"Password must be at least 8 characters"),a=!1):u(i),d.disabled=!a}[r,i].forEach(a=>{a&&(a.addEventListener("input",p),a.addEventListener("blur",p),a.addEventListener("change",p))}),p();function v(){window.flsPopup?.open?.("successful-login")}d?.addEventListener("click",a=>{a.preventDefault(),!d.disabled&&v()}),o.forEach(a=>{a.addEventListener("click",()=>{v()})});function b(){localStorage.setItem("loggedIn","true"),e.forEach(a=>a.setAttribute("hidden",!0)),t?.removeAttribute("hidden"),s?.removeAttribute("hidden")}document.addEventListener("click",a=>{a.target.matches(".btn-success-continue")&&(b(),window.flsPopup?.close?.("successful-login"),window.location.href="index.html"),ev}),localStorage.getItem("loggedIn")==="true"&&b(),t?.addEventListener("click",()=>{n?.toggleAttribute("hidden")}),n?.querySelector(".dropdown-item:last-child")?.addEventListener("click",()=>{n?.setAttribute("hidden",!0),window.flsPopup?.open?.("logout")})}),document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector('[data-fls-popup="forget-second"]');if(!l)return;const e=l.querySelector("#forget-code"),t=l.querySelector("[data-forget-submit]"),s=l.querySelector(".resend-btn");let n=null;function c(o,f="Enter 4 digits"){if(o.nextElementSibling?.classList.contains("form-error-text"))o.nextElementSibling.textContent=f;else{const u=document.createElement("div");u.className="form-error-text",u.textContent=f,o.insertAdjacentElement("afterend",u)}o.classList.add("--form-error")}function r(o){o.nextElementSibling?.classList.contains("form-error-text")&&o.nextElementSibling.remove(),o.classList.remove("--form-error")}function i(){const o=e.value.trim(),f=/^\d{4}$/.test(o);!f&&o.length>0?c(e):r(e),t.disabled=!f}e.addEventListener("input",i),e.addEventListener("blur",i),t.addEventListener("click",()=>{t.disabled||window.flsPopup?.open?.("forget-final")});function d(){let o=15;s.disabled=!0,s.classList.add("disabled"),s.textContent=`Resend in ${o}s`,n=setInterval(()=>{o--,s.textContent=`Resend in ${o}s`,o<=0&&(clearInterval(n),s.disabled=!1,s.classList.remove("disabled"),s.textContent="Resend code")},1e3)}s.addEventListener("click",()=>{console.log("Resend code triggered"),d()}),i(),d()}),document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector('[data-fls-popup="forget-final"]');if(!l)return;const e=l.querySelector("[data-forgetfinal-form]"),t=e.querySelector("#password-3"),s=e.querySelector("#password-2"),n=e.querySelector("[data-forgetfinal-submit]");e.querySelectorAll("[data-fls-passwordeye]");function c(o,f){if(o.nextElementSibling?.classList.contains("form-error-text"))o.nextElementSibling.textContent=f;else{const u=document.createElement("div");u.className="form-error-text",u.textContent=f,o.insertAdjacentElement("afterend",u)}o.classList.add("--form-error")}function r(o){o.nextElementSibling?.classList.contains("form-error-text")&&o.nextElementSibling.remove(),o.classList.remove("--form-error")}function i(o){return o.length>=8}function d(){let o=!0;i(t.value)?r(t):(c(t,"Min 8 chars with uppercase, lowercase and a number"),o=!1),s.value!==t.value||s.value.length===0?(c(s,"Passwords do not match"),o=!1):r(s),n.disabled=!o}t.addEventListener("input",d),s.addEventListener("input",d),t.addEventListener("blur",d),s.addEventListener("blur",d),d()}),document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector('[data-fls-popup="forget"]');if(!l)return;const e=l.querySelector("[data-forget-form]"),t=e.querySelector("#forget-email"),s=e.querySelector("[data-forget-submit]");function n(i,d="Invalid email"){if(i.nextElementSibling?.classList.contains("form-error-text"))i.nextElementSibling.textContent=d;else{const o=document.createElement("div");o.className="form-error-text",o.textContent=d,i.insertAdjacentElement("afterend",o)}i.classList.add("--form-error")}function c(i){i.nextElementSibling?.classList.contains("form-error-text")&&i.nextElementSibling.remove(),i.classList.remove("--form-error")}function r(){t.checkValidity()?(c(t),s.disabled=!1):(n(t),s.disabled=!0)}t.addEventListener("input",r),t.addEventListener("blur",r),s.addEventListener("click",()=>{s.disabled||window.flsPopup?.open?.("forget-second")}),r()}),document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector('[data-fls-popup="email-verification"]');if(!l)return;const e=l.querySelector("#verification-code"),t=l.querySelector("[data-verification-submit]"),s=l.querySelector(".resend-btn"),n=l.querySelector(".resend-link");let c=null;function r(u,p="Enter 6 digits"){if(u.nextElementSibling?.classList.contains("form-error-text"))u.nextElementSibling.textContent=p;else{const v=document.createElement("div");v.className="form-error-text",v.textContent=p,u.insertAdjacentElement("afterend",v)}u.classList.add("--form-error")}function i(u){u.nextElementSibling?.classList.contains("form-error-text")&&u.nextElementSibling.remove(),u.classList.remove("--form-error")}function d(){const u=e.value.trim(),p=/^\d{6}$/.test(u);!p&&u.length>0?r(e):i(e),t.disabled=!p}e.addEventListener("input",d),e.addEventListener("blur",d),t.addEventListener("click",()=>{t.disabled||window.flsPopup?.open?.("successful")});function o(){let u=15;s.disabled=!0,s.classList.add("disabled"),s.textContent=`Resend in ${u}s`,c=setInterval(()=>{u--,s.textContent=`Resend in ${u}s`,u<=0&&(clearInterval(c),s.disabled=!1,s.classList.remove("disabled"),s.textContent="Resend code")},1e3)}function f(){console.log("Resend code triggered"),o()}s.addEventListener("click",f),n.addEventListener("click",u=>{u.preventDefault(),f()}),d(),o()});
